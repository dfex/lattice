CREATE TABLE CustomerTable (
CustomerID INTEGER PRIMARY KEY ASC,
CustomerName TEXT,
BillingEmailAddress TEXT,
CustomerStatus TEXT
);

CREATE TABLE UserTable (
UserID INTEGER PRIMARY KEY ASC,
UserName TEXT,
UserPassword TEXT,
UserStatus TEXT
);

CREATE TABLE LocationTable (
LocationID INTEGER PRIMARY KEY ASC,
LocationName TEXT NOT NULL,
RackID TEXT,
RackUnit INTEGER,
FacilityName TEXT NOT NULL,
FacilityFloor TEXT,
FacilityAddress TEXT NOT NULL,
FacilityState TEXT,
FacilityCountry TEXT NOT NULL,
LocationStatus TEXT NOT NULL
);

CREATE TABLE NodeTable (
NodeID INTEGER PRIMARY KEY ASC,
NodeName TEXT NOT NULL,
NodeType TEXT NOT NULL,
NodeIPAddress TEXT NOT NULL,
FOREIGN KEY(LocationID) REFERENCES LocationTable(LocationID),
NodeStatus TEXT NOT NULL
)

CREATE TABLE PortTable (
PortID INTEGER PRIMARY KEY ASC,
PortName TEXT NOT NULL,
PortStatus TEXT NOT NULL,
PortSpeed INTEGER,
FOREIGN KEY(CustomerID) REFERENCES CustomerTable(CustomerID),
FOREIGN KEY(NodeID) REFERENCES NodeTable(NodeID)
)

CREATE TABLE ServicesTable (
ServiceID INTEGER PRIMARY KEY ASC,
ServiceName TEXT NOT NULL,
ServiceType TEXT NOT NULL,
ServiceRouteTarget TEXT,
ServiceRouteDistinguisher TEXT
)

CREATE TABLE SubInterfaceTable (
SubInterfaceID INTEGER PRIMARY KEY ASC,
SubInterfaceUnit INTEGER,
SubInterfaceVLANID INTEGER,
FOREIGN KEY(ServiceID) REFERENCES ServiceTable(ServiceID),
SubInterfaceStatus TEXT NOT NULL,
FOREIGN KEY(PortID) REFERENCES ServiceTable(PortID)
);

CREATE TABLE AuthorisationTable (
FOREIGN KEY(CustomerID) REFERENCES CustomerTable(CustomerID),
FOREIGN KEY(UserID TEXT) REFERENCES UserTable(Username),
AuthorisationRole TEXT,
FOREIGN KEY(PortID) REFERENCES PortTable(PortID),
FOREIGN KEY(SubInterfaceID) REFERENCES SubInterfaceTable(SubInterfaceID)
);

CREATE TABLE ServiceMappingTable (
FOREIGN KEY(ServiceID) REFERENCES ServiceTable(ServiceID),
FOREIGN KEY(SubInterfaceID) REFERENCES SubInterfaceTable(SubInterfaceID)
);

CREATE TABLE TransactionLog (
TransactionID INTEGER PRIMARY KEY ASC,
TransactionTimeStamp TEXT,
FOREIGN KEY(UserID) REFERENCES UserTable(UserID),
IPAddress TEXT,
EventType TEXT,
FOREIGN KEY(PortID) REFERENCES PortTable(PortID),
FOREIGN KEY(SubInterfaceID) REFERENCES SubInterfaceTable(SubInterfaceID),
EventDescription TEXT
);